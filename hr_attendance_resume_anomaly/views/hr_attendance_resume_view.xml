<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <record id="hr_attendance_resume_view_tree" model="ir.ui.view">
        <field name="model">hr.attendance.resume</field>
        <field name="inherit_id" ref="hr_attendance_resume.hr_attendance_resume_view_tree" />
        <field name="arch" type="xml">
            <field name="difference_minutes" position="after">
                <field name="attendance_anomaly_ids" widget="many2many_tags"/>
                <field name="anomaly_resolved" />
            </field>
        </field>
    </record>
    <record id="hr_attendance_resume_view_search" model="ir.ui.view">
        <field name="model">hr.attendance.resume</field>
        <field name="inherit_id" ref="hr_attendance_resume.hr_attendance_resume_view_search" />
        <field name="arch" type="xml">
            <field name="day_week" position="after">
                <field name="attendance_anomaly_ids" />
                <separator/>
                <filter string="With resolved anomaly" name="with-anomalies-revolved"
                    domain="[('anomaly_resolved','=',True),('with_anomaly','=',True)]" />
                <filter string="Without resolved anomaly" name="with-anomalies-revolved"
                    domain="[('anomaly_resolved','=',False),('with_anomaly','=',True)]" />
            </field>
        </field>
    </record>
    <record id="hr_attendance_resume_view_form" model="ir.ui.view">
        <field name="model">hr.attendance.resume</field>
        <field name="inherit_id" ref="hr_attendance_resume.hr_attendance_resume_view_form" />
        <field name="arch" type="xml">
            <page name="page-attendances" position="after">
                 <page string="Anomalies" name="page-anomalies">
                     <field name="attendance_anomaly_ids" colspan="4"
                        nolabel="1" readonly="1"/>
                 </page>
            </page>
            <notebook position="before">
                <group name="anomaly-resolved" colspan="4">
                    <group>
                        <field name="anomaly_resolved" />
                    </group>
                    <group />
                </group>
            </notebook>
        </field>
    </record>
</odoo>
